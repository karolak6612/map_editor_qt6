**Task65: Migrate Basic Drawing Primitives (`QPainter` from SFML/wx) and Implement Brush Preview in `MapCanvas`**
- Task: **Migrate core drawing functions for basic shapes (rectangles, lines, ellipses) previously implemented using `wxDC` custom drawing or SFML's shape drawing methods (if SFML was used for these indicators in `wxwidgets`) to use `QPainter` directly within `project_qt`'s `MapCanvas` (or its `MapView` equivalent's `paintEvent`, or the `paint` method of specific `QGraphicsItems` if more appropriate for overlays). This task also includes implementing dynamic brush preview rendering.**
    - **Analyze Existing Drawing:** Review any custom drawing in `Project_QT/src`'s `MapCanvas`.
    - **Shape Drawing with `QPainter`:**
        -   Identify all instances in `wxwidgets` where basic shapes were drawn for UI feedback (e.g., brush preview outlines, grid lines, selection rectangles if not full `QGraphicsItem`s, other indicators).
        -   Replace these with equivalent `QPainter` functions (`drawRect`, `drawLine`, `drawEllipse`).
        -   Preserve properties like custom colors, fill styles, line thickness, and opacity effects from the original implementation.
    - **Brush Preview Implementation:**
        -   Implement dynamic brush preview rendering on `MapCanvas` that appears under the mouse cursor when a drawing mode is active and a `Brush` is selected.
        -   The preview should change based on the current `Brush`'s type and size/shape (e.g., a rectangle for `NormalBrush`, a circle if a circular brush existed, multi-tile pattern outlines for doodad brushes if `Task65.md` specifies, unless the `BrushPanel` (Task 70) itself renders previews to a buffer for display).
        -   The preview should only appear over "drawable Tiles" (respecting `Brush::canDraw()` logic) and provide clear visual feedback for which `Tile`(s) will be affected by the brush action.
        -   Ensure the preview correctly uses the current `ItemType`'s tile size or the brush's defined area, including handling for border types if the preview should indicate that.
    - **Integration with `DrawingOptions`:** If the original `wxMapCanvas::item`/`Tiles` properties affected these primitive drawings (e.g., selection marker color/style, transparency levels), ensure the new `QPainter` logic respects equivalent state from `DrawingOptions` or relevant `MapView`/`Map` properties.
    - **Deferred for some brushes:** Complex previews (e.g., full item sprite for an `ItemBrush`) might still be deferred until `Item` rendering is complete (Task 54), but basic shape outlines are the focus here.
    - **Original Task Scope:** Note that the original description mentioned SFML `sf::Shape` and interaction with `TileSelection` state managing selected rectangle highlights. If SFML was indeed used for such overlays in `MapCanvas`, this is the primary target for `QPainter` replacement. How `MapCanvas::item` or `Tile` properties determined highlighting, and whether this is now handled by `Map` and `View` for visualization through `QGraphicsItem` states vs. direct `MapCanvas` drawing, needs to be clarified by `Task65.md`. This task ensures basic visual primitives are available. Tile edge calculation visualization if done by map functions placing `ground` tile is also a candidate for primitive drawing here.
    - **`Task65.md` must clarify whether SFML or custom `wxDC` calls were used for these primitives, provide details on all such visual indicators (grid, brush outlines, selection boxes if custom drawn), their appearance (colors, styles), and how they were updated based on brush/selection state.**
