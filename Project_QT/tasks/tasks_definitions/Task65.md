
**Task 65 (Corrected): Migrate Basic Drawing Primitives and Implement Brush Preview**

*   **Task:** Migrate drawing functions for basic shapes (rectangles, lines, ellipses) from the original `wxWidgets`/SFML implementation to `project_qt` using `QPainter` within the `MapCanvas` (or the `paint` method of appropriate `QGraphicsItems`).
*   **Focus:** Replace SFML's shape drawing methods (e.g., drawing rectangles for brush previews, lines for grid, or other indicators if any simple `sf::Shape` used, maintaining properties if there were any custom colors/opacity effects, sizes from where brush and the active canvas state affected the shapes as now tile sizes and where in scene to place a shape for current brush/selected likely should be via map view events unless maintaining custom members, widgets there and directly handling those there like wxWidgets seemed to do from its mouse actions with TileSelection state managing selected rectangles highlight if it determines item or `MapCanvas::item`/`Tiles` properties now, those states handled rather at Map, View for visualization even if internal brush implementations might use these still internally if theres some logic to preserve but DrawingOptions has now similar methods or item attributes (`isTile`/etc) can do the selection marker and transparency rather than each specialized brush implementing tile->visual update similarily) using `QPainter` functions. 
*   **Brush Preview:** Implement dynamic brush preview rendering. It should change based on `Brush` type and size, displaying the appropriate shape (rectangle, circle, multi-tile pattern for example if doodads have one unless BrushPanel now manages rendering, drawing into some buffer similarily for items previews when selected) under the mouse cursor when in Drawing mode and a Brush is selected and on a "drawable Tile", for visual feedback for what Tiles (`MapView`) will get added/removed similar to previous brush indicators and `Tile` items using proper sizes for current `ItemTypes`/tiles with border types, unless thats how it managed the optional border brush before but doesnt anymore using flags and map checks (`canDraw`) now when tiles determine also their edge calculations or those are moved onto Tile item similar to what Brush does during place operations but only triggering it for a given position similar to those map functions that generate new items as `ground` tile rather than Item doing this if border tiles/brushes should determine what they modify based on properties they contain like what tile is drawn in them if those would store the id there after editing the tiles ground using Brush::setType rather than Tile flags as not always all Brushes get their effect immediately as in `moveSelection` for walls as they must now implement when these should happen or tile property related function calls now trigger an update).

