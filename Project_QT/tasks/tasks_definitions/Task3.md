**Task3: Migrate `wxDC` (Device Context) to `QPainter`**
- Task: **Replace all drawing operations involving `wxDC` (and its many derivatives like `wxMemoryDC`, `wxPaintDC`, `wxClientDC`, `wxBufferedPaintDC`, `wxScreenDC`) with `QPainter` equivalents in the `project_qt` project.** This is a fundamental refactoring of all custom 2D rendering logic.
    - **Analyze Existing Code:** Examine any existing `QPainter` code in `Project_QT/src`. Refactor this existing code if necessary to ensure a consistent, correct, and idiomatic application of Qt's painting system throughout the entire `project_qt` codebase.
    - **Align Drawing Logic with `QPainter`:** All custom drawing logic must be adapted to Qt's 2D painting system, which operates on a `QPaintDevice` (like a `QWidget`, `QPixmap`, or `QImage`) via a `QPainter` object.
    - **Accurate and Comprehensive Translation of `wxDC` API:** Focus on the accurate and functionally equivalent translation of the extensive `wxDC` API:
        -   **Drawing Primitives:** Meticulously port calls like `DrawRectangle`, `DrawRoundedRectangle`, `DrawEllipse`, `DrawLine`, `DrawPoint`, `DrawPolygon`, `DrawLines`, `DrawSpline`, `DrawArc`, `DrawCircle`, etc., to their `QPainter` counterparts (e.g., `drawRect`, `drawLine`, `drawText`).
        -   **Bitmap/Image Drawing:** `DrawBitmap` (now `QPainter::drawPixmap` for `QPixmap` from Task 2), `DrawIcon` (to `QPainter::drawPixmap` if icons are `QPixmap`s).
        -   **Text Rendering:** `DrawText`, `DrawRotatedText`, `GetTextExtent` (and other text metric functions) require careful porting to `QPainter::drawText` and `QFontMetrics`, ensuring font selection (`SetFont`), text color (`SetTextForeground`, `SetTextBackground`), background mode (`SetBackgroundMode`), and alignment are preserved.
        -   **Clipping:** `SetClippingRegion` (for various shapes like rectangles, `wxRegion`), `DestroyClippingRegion` map to `QPainter::setClipRect`, `setClipRegion`, `setClipping`.
        -   **Transformations & Coordinate Systems:** `SetUserScale`, `SetDeviceOrigin`, `SetLogicalOrigin`, `SetAxisOrientation`, `SetMapMode` need careful mapping to `QPainter`'s transformation states (`scale()`, `translate()`, `rotate()`, `setWorldTransform()`, `setWindow()`, `setViewport()`) or the `QGraphicsView`'s transformation system if drawing within it. Ensure logical and device coordinates are handled correctly.
        -   **Brush and Pen:** `SetBrush`, `SetPen` (mapping `wxBrush` properties like color, style, stipple to `QBrush`; and `wxPen` properties like color, style, width, cap, join to `QPen`).
        -   **Logical Functions (ROP codes):** `SetLogicalFunction` (e.g., `wxINVERT`, `wxXOR`) needs mapping to `QPainter::CompositionMode` or, if no direct equivalent, might require more complex pixel manipulation or shader effects (investigate options, if these were heavily used).
        -   **Palette Handling:** If `wxDC` was used with `wxPalette`, this aspect needs careful consideration for how color indexing would map to `QImage` or `QPixmap` in Qt if direct color models are not used.
    - **State Management:** Remember that `QPainter` operates on a state machine; ensure its state (pen, brush, font, transforms, clipping) is managed correctly, similar to how `wxDC` settings were applied.
    - **Refer to `Task3.md` for a comprehensive cross-reference list of `wxDC` methods to their intended `QPainter` equivalents, detailing any non-obvious mappings or Qt best practices, especially for complex operations like specific map modes or logical functions.**
