**Task96: Implement Key Forwarding, Navigation, and Input Handling for All Palettes/Dialog Controls (Full UI Polish)**
- Task: **Ensure correct keyboard focus management, navigation (Tab order, arrow keys), and input event handling for *all* palettes, dialogs, and custom UI controls throughout `project_qt`. This includes preventing `MapCanvas` (`MapView`) from improperly intercepting key presses intended for focused input fields, and correctly migrating behaviors like `wxNumberTextCtrl` input validation.**
    - **Analyze UI Input Behavior:** Systematically test all UI elements across `Project_QT/src` for keyboard interaction.
    - **Focus Management:**
        -   Ensure that when a palette or dialog (especially modeless ones or dock widgets) has focus, keyboard input (especially text input into `QLineEdit`, `QTextEdit`) goes to the correct focused widget.
        -   `MapCanvas`/`MapView` should not intercept these key presses unless it has a specific global shortcut that's explicitly intended to work even when other widgets have focus (rare). `MapView` should likely only process key events if `MapView::hasFocus()`.
    - **Tab Order & Navigation:** Set correct `QWidget::setTabOrder()` for all dialogs and panels to ensure logical navigation with the Tab key. Ensure arrow keys navigate correctly within list widgets, tree views, tables, etc.
    - **Palette Input:** If palettes (e.g., brush selector, item property editor within a dock) have input fields (like search fields, `QSpinBox` for brush size), ensure typing in them works without `MapView` stealing focus or interpreting the keys as map commands.
    - **Input Validation & Specialized Controls:**
        -   If `wxNumberTextCtrl` (or similar `wx` controls) had built-in validation (e.g., allowing only numbers, range checks) triggered on key press (`EVT_CHAR` or `key_down`), this logic must be ported to Qt. This might involve using `QIntValidator`, `QDoubleValidator` on `QLineEdit`s, or subclassing input widgets to override `keyPressEvent` for custom validation/filtering if necessary.
        -   Changes in input controls (e.g., `QLineEdit::textChanged`, `QSpinBox::valueChanged`) should propagate their data appropriately only after validation, or `setProperty` methods should be used on target objects (`Tile`/`Item`) to indicate a property editor is committing a change.
    - **`ItemPropertiesWindow`/Editor Input:** For `ItemPropertyEditor` (Task 45) or any similar modal/modeless property editing UIs:
        -   All its input controls must function correctly without interference.
        -   Ensure `OnOK` (or Apply) logic correctly reads values from all controls, validates them, updates the target `Item` (or other object) attributes, and triggers necessary `undo` stack pushes and UI refreshes (similar to how `wxCommandEvent` might have triggered an `Update` for properties view in `wxwidgets`).
    - **House Editor Input:** The same scrutiny applies to input handling in `HouseEditorDialog` (Task 86/94).
    - **Global Shortcut Conflicts:** Resolve any conflicts if global shortcuts (e.g., on `MainWindow`) overlap with key events meant for specific focused widgets.
    - **`Task96.md` should detail any specific `wxwidgets` controls that had complex input validation or keyboard event handling (like `wxNumberTextCtrl`, custom list controls), the expected Tab navigation order for complex dialogs, and how focus was managed between main `MapCanvas` and pop-up/docked windows.**
