**Task46: Refactor MainToolBar UI Using QToolBar (Enhanced Features)**
Implement missing controls and finalize interactions for current map/zoom context from wx, add action listeners. These would control layer/tool and should ideally update current map in Mainwindow so these controls properly dispatch changes in QToolbars rather than needing specific actions.  If any key shortcuts existed (accelerator keys) in toolbar add support via `QShortcut`, updating hotkey management system.  For the rest use either toolbar to command events via signals or public methods as appropriate to make MainToolbar a distinct interactive unit, not relying on just `QAction::triggered` signals where those slots update map or selection. Ensure both layout and UI state gets properly restored (as done via g_settings), updating both wx settings if used there too like `SHOW_TOOL*`, `LAYOUT_*`, and the internal data from `MainToolbar::SavePerspective`, along with its logic on what items have what attributes initially in `CreateToolbar`. These functions themselves do NOT require slots; simply create and populate using QAction/Widgets. ToolButton visibility/layout likely is more of a property/ui state control action, so those likely do not require or directly emit a "selection changed"-style event on MainToolbar, since brushes tools are usually created and selected at GUI or `main_toolbar` creation/restore steps for palettes via signals on view-load. Migrate size panel/button events and any other control on those specific toolbars such as `SelectBrush`, and brush shape toggle events if those used buttons as in the older wx::toolbar. Maintain layout properties of floating/sliders etc. similar to wx's initial toolbar state, making the whole `QToolBar` toggle as before.
